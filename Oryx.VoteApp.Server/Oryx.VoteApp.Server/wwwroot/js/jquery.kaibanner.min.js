!function(t,n,e){"use strict";var i=function(){function t(t,e){this.$el=n(t),this.initializeEles(),this.setConfig(e),this.eventsMap={"click .kai_banner_bottombtns":"bottomBtnsClickHandle","click .kai_banner_prevbtn":"prevBtnClickHandle","click .kai_banner_nextbtn":"nextBtnClickHandle"},this.init()}t.Eles={$bannerBody:".kai_banner_body",$bottomBtns:".kai_banner_bottombtns",$prevBtn:".kai_banner_prevbtn",$nextBtn:".kai_banner_nextbtn"};var e={throttle:function(t,n,e){var i=null,r=0;return function(){var o=this,a=arguments,c=Date.now();e&&c-r>=e?(r=c,t.apply(o,a)):(i&&clearTimeout(i),i=setTimeout(function(){t.apply(o,a)},n))}},isObject:function(t){return"[object Object]"==Object.prototype.toString.call(t)}};return t.prototype.initializeEles=function(){var n=t.Eles,e=null;for(var i in n)n.hasOwnProperty(i)&&(e=this.$el.find(n[i]),this[i]=e.length>0?e:null)},t.prototype.setConfig=function(t){var i=this;i.config={speed:1e3,fixedWidth:!1,intervalTime:3e3,highlightClass:""},e.isObject(t)&&n.extend(i.config,t),i.distance=parseInt(i.$el.css("width")),i.maxIndex=i.$bannerBody.children().length-1,i.direction="toRight",i.currentIndex=0,i.timer=null},t.prototype.animate=function(t){var n=this;n.$bannerBody.stop().animate({left:-(n.currentIndex*n.distance)+"px"},t),n.$bottomBtns&&n.$bottomBtns.children().eq(n.currentIndex).addClass(n.config.highlightClass).siblings().removeClass(n.config.highlightClass)},t.prototype.delayAnimate=function(t){var n=this;n.animate(0),clearInterval(n.timer),setTimeout(function(){n.startUp()},0),t.stopPropagation()},t.prototype.bottomBtnsClickHandle=function(t){var n=this,e=null,i=n.$bottomBtns.children(),r=i.length;t:for(e=0;e<r;e++)if(i[e]==t.target){n.currentIndex=e;break t}0===n.currentIndex?n.direction="toRight":n.currentIndex==n.maxIndex&&(n.direction="toLeft"),n.delayAnimate(t)},t.prototype.prevBtnClickHandle=function(t){var n=this;1==n.currentIndex&&(n.direction="toRight"),0===n.currentIndex?(n.currentIndex=n.maxIndex,n.direction="toLeft"):n.currentIndex--,n.delayAnimate(t)},t.prototype.nextBtnClickHandle=function(t){var n=this;n.currentIndex==n.maxIndex-1&&(n.direction="toLeft"),n.currentIndex==n.maxIndex?(n.currentIndex=0,n.direction="toRight"):n.currentIndex++,n.delayAnimate(t)},t.prototype.initOrdinaryEvents=function(t){for(var n in t){var e=this,i=n.match(/^(\S+)\s*(.*)$/),r=this.$el.children(i[2]);t.hasOwnProperty(n)&&r.length>0&&function(t){e.$el.on(i[1],i[2],function(n){e[t](n)})}(t[n])}},t.prototype.initWindowOnResize=function(){var t=this;n(window).on("resize",e.throttle(function(){t.distance=parseInt(t.$el.css("width")),t.animate(0)},50,1e3))},t.prototype.startUp=function(){var t=this;t.timer=setInterval(function(){"toRight"==t.direction?++t.currentIndex>=t.maxIndex&&(t.direction="toLeft"):"toLeft"==t.direction&&--t.currentIndex<=0&&(t.direction="toRight"),t.animate(t.config.speed)},t.config.intervalTime)},t.prototype.bindEvent=function(){this.config.fixedWidth||this.initWindowOnResize(),this.initOrdinaryEvents(this.eventsMap)},t.prototype.init=function(){this.bindEvent(),this.startUp()},t}();n.fn.kaiBanner=function(t){return this.each(function(){new i(this,t)})}}(0,this.jQuery,document);